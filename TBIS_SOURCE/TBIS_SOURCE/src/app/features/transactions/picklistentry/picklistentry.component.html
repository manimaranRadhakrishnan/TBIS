<div  class="container">
    <div class="table-wrapper px-0 shadow">
      <div class="table-title title-fixed">
        <div class="row">
           <div class="col-sm-6">
              <div class="table-head ms-2">
              <div class="row">
                 <div *ngIf="action!='view'" class="col-1 cursor" (click)="cancelAdd()">
                    <i class="bi bi-arrow-left"></i>
                 </div>
                 <div *ngIf="action=='view'" class="col-1 cursor">
                 </div>
                 <div class="col-6 p-0">
                  Picklist Entry 
                 </div>
              </div>
              
                 </div>
           </div>
           <div *ngIf="action=='view'" class="col-sm-6">
              <div class="d-grid gap-2 d-md-flex justify-content-md-end align-items-center">
                 <a class="btn btn-success addcss" (click)="addNew()">
                    <i class="bi bi-plus-square"></i><span>New Entry</span>
                 </a>

                 <a class="btn btn-success addcss" (click)="openDlg()">
                  <i class="bi bi-plus-square"></i><span>E-Nagara Upload</span>
                  </a>

                  <a class="btn btn-success addcss" (click)="openSpareDlg()">
                    <i class="bi bi-plus-square"></i><span>Spares Upload</span>
                  </a>
              </div>
           </div>

           <div *ngIf="action=='show'" class="col-sm-6">
              <div class="d-grid gap-2 d-md-flex justify-content-md-end align-items-center">
                <a class="btn btn-success addcss" (click)="openStatusDlg()">
                  <i class="bi bi-plus-square"></i><span>Update Status</span>
                  <!-- {{masterData.statusId}}--{{enableAmend}}--{{masterData.parentPickListId}} -->
                </a>
                <a *ngIf="masterData.statusId==11 && masterData.parentPickListId==0" class="btn btn-success addcss" (click)="updateAmendPickList(masterData.pickListId)">
                  <i class="bi bi-plus-square"></i><span>Amend</span>
                </a>
              </div>
           </div> 
        
        </div>
      </div>
      <div *ngIf="action!='view'"> 
      <div class="table-content title-content">
        <div class="pt-0">
               <nav>
                 <div class="nav nav-tabs" id="nav-tab" role="tablist">
                   <button class="nav-link active" id="nav-info-tab" [ngClass]="{'active': showTab==1}" data-bs-toggle="tab" data-bs-target="#nav-info" type="button" role="tab" aria-controls="nav-info" aria-selected="true">Picklist Info</button>
                   <button class="nav-link" id="nav-contact-tab" [ngClass]="{'active': showTab==3}" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false" style="display: none;">Spool File</button>
                 </div>
               </nav>
               <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade" [ngClass]="{'show active': showTab==1}" id="nav-info" role="tabpanel" aria-labelledby="nav-info-tab">
                    <div class="row px-2">
                       <form class="p-1" method="post" autocomplete="off" #frm="ngForm"> 
                        
                        <div  class="row px-3 mb-2">
                          <div class="row g-0 badge-bg mt-0 mb-2">
                            <div class="col-1 mt-1 left-badge"></div>
                            <div class="ms-3 col-6 mt-2 badge-title">Picklist Details</div>
                          </div>
                          <table class="text-justify text-nowrap ">
                            <tr>
                              <td class="t-w-100">&emsp;Schedule No</td>
                              <td class="t-w-75"><input autofocus type="text" #scheduleNo  name="scheduleNo" [disabled]="masterData.pickListId!='0'"
                                class="t-form-control" placeholder="" maxlength="15" [(ngModel)]="masterData.scheduleNo"></td>
                              
                              <td class="t-w-100">&emsp;Vendor</td>
                              <td class="t-w-100">
                                <ng-select [items]="customerDetails" #customerId name="customerId" 
                                bindLabel="customername"
                                bindValue="customerId" 
                                placeholder="Select Customer" [disabled]="masterData.pickListId!='0'"
                                [(ngModel)]="masterData.customerId" (change)="getCustomerParts(masterData.customerId);">
                                </ng-select>
                              </td>

                              <td class="t-w-100">&emsp;Kanban Attached By</td>
                              <td class="t-w-50">{{masterData.kanbanAttachedByName}}</td>

                              <td class="t-w-100">&emsp;Doc Handover By</td>
                              <td class="t-w-50">{{masterData.docHandoverByName}}</td>

                            </tr>

                            <tr>
                              <td class="t-w-100">&emsp;Supply Date</td>
                              <td class="t-w-75"><input autofocus type="date" #supplyDate  name="supplyDate" [disabled]="masterData.pickListId!='0' && !enableAmend" 
                                class="t-form-control" placeholder=""  [(ngModel)]="masterData.supplyDate"></td>

                              
                              
                                <td class="t-w-100">&emsp;Picked By</td>
                                <td class="t-w-50">{{masterData.pickedByName}}</td>
                              
                                <td class="t-w-100">&emsp;Kanban Taping By</td>
                                <td class="t-w-50">{{masterData.kanbanTapingByName}}</td>

                                <td class="t-w-100">&emsp;Dock Audit By</td>
                                <td class="t-w-50">{{masterData.docAuditByName}}</td>
                              
                            </tr>

                            <tr>
                              <td class="t-w-100">&emsp;Supply Time</td>
                              <td class="t-w-75"><input autofocus type="time" #supplyTime name="supplyTime" [disabled]="masterData.pickListId!='0' && !enableAmend" 
                                class="t-form-control" placeholder="" [(ngModel)]="masterData.supplyTime"></td>

                                <td class="t-w-100">&emsp;Staged By</td>
                                <td class="t-w-100">{{masterData.stagedByName}}</td>

                                <td class="t-w-100">&emsp;Scanning By</td>
                                <td class="t-w-50">{{masterData.scanByName}}</td>

                                <td class="t-w-100">&emsp;Vehicle Assigned By</td>
                                <td class="t-w-50">{{masterData.vehicleAssignedByName}}</td>
                            </tr>
                            <tr>
                              <td class="t-w-100">&emsp;Plant</td>
                              <td class="t-w-75">
                                <ng-select [items]="plants" #plant name="plant"
                                  bindLabel="plantname"
                                  bindValue="plantid" 
                                  placeholder="Location" [disabled]="masterData.pickListId!='0'"
                                  [(ngModel)]="masterData.usageLocation">
                                </ng-select>
                              </td>

                              <td class="t-w-100">&emsp;</td>
                              <td class="t-w-100">&emsp;</td>

                              <td class="t-w-100">&emsp;Loading Supervisor By</td>
                              <td class="t-w-50">{{masterData.loadingSupervisorByName}}</td>

                              <td class="t-w-100">&emsp;Vehicle No.</td>
                              <td class="t-w-50">{{masterData.vehicleNo}}</td>

                            </tr>

                          </table>
                        </div>
                        
                        <div style="display: none;" class="row px-3 mb-2">   
                          <div class="row g-0 badge-bg mt-0 mb-2">
                            <div class="col-1 mt-1 left-badge"></div>
                            <div class="ms-3 col-6 mt-2 badge-title">Picklist Details</div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Schedule No<span  class="mandatory-color">*</span></label>
                          <div>
                            <input autofocus type="text"  tabindex="1"  #scheduleNo  name="scheduleNo" 
                             class="form-control" placeholder=""  [(ngModel)]="masterData.scheduleNo">
                          </div>
                       </div>
      
                          <div class="col-md-2">        
                            <label class="fS14 mb-1">Supply Date<span  class="mandatory-color">*</span></label>
                            <div>
                              <input autofocus type="date"  tabindex="1"  #supplyDate  name="supplyDate" 
                               class="form-control" placeholder=""  [(ngModel)]="masterData.supplyDate">
                            </div>
                         </div>
        
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Supply Time<span  class="mandatory-color">*</span></label>
                          <div>
                            <input autofocus type="time"  tabindex="2"  #supplyTime name="supplyTime" 
                             class="form-control" placeholder="" [(ngModel)]="masterData.supplyTime">
                          </div>
                         </div>
        
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Unloading Dock</label>
                          <div>
                            <ng-select [items]="plantDocks" #docks 
                            bindLabel="dockname"
                            bindValue="ddockid" 
                            placeholder="Dock"
                            [(ngModel)]="masterData.unloadingDoc"></ng-select>
                              </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Usage Location </label>
                          <div>
                            <ng-select [items]="plants" #plant 
                            bindLabel="plantname"
                            bindValue="plantid" 
                            placeholder="Location"
                            [(ngModel)]="masterData.usageLocation"></ng-select>
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Vendor</label>
                          <div>
                            <ng-select [items]="customerDetails" #customerId name="customerId" 
                            bindLabel="customername"
                            bindValue="customerId" 
                            placeholder="Select Customer"
                            [(ngModel)]="masterData.customerId" (change)="getCustomerParts(masterData.customerId);">
                        </ng-select>
                      </div>
                         </div>
                        </div>

                        <div class="row px-3 mb-2" style="display: none;">
                          <div class="row g-0 badge-bg mt-0 mb-2">
                             <div class="col-1 mt-1 left-badge"></div>
                             <div class="ms-3 col-6 mt-2 badge-title">Vehicle Details</div>
                          </div>
                           <div class="col-md-2">        
                            <label class="fS14 mb-1">Vehicle No <span  class="mandatory-color">*</span></label>
                            <div>
                              <input autofocus type="text"  tabindex="3"  name="vehicleno" [disabled]="masterData.asnStatus!='2' || userRoleId!='4'"
                               class="form-control" placeholder="" maxlength="12" [(ngModel)]="masterData.vechicleNo">
                            </div>
                           </div>
                          
                           
                          
                           <div class="col-md-3">        
                            <label class="fS14 mb-1">Driver Name</label>
                            <div>
                              <input autofocus type="text"  tabindex="5"  name="driverName"  [disabled]="masterData.asnId=='0' || userRoleId!='4'"
                              class="form-control" placeholder="" maxlength="25" [(ngModel)]="masterData.driverName">
                            </div>
                            
                           </div>
                           <div class="col-md-3">        
                            <label class="fS14 mb-1">Driver Mobile</label>
                            <div>
                              <input autofocus type="text"  tabindex="6"  name="driverMobile" [disabled]="masterData.asnId=='0' || userRoleId!='4'" numbersOnly
                               class="form-control" placeholder="" maxlength="10" [(ngModel)]="masterData.driverMobile">
                            </div>
                           
                           </div>
                          
                        </div>
                        <div class="row px-3 mb-2" style="display: none;">
                          <div class="row g-0 badge-bg mt-0 mb-2">
                             <div class="col-1 mt-1 left-badge"></div>
                             <div class="ms-3 col-6 mt-2 badge-title">Pick Details</div>
                          </div>
                           <div class="col-md-3">        
                            <label class="fS14 mb-1">Staged By <span  class="mandatory-color">*</span></label>
                            <div>
                              <input autofocus type="text"  tabindex="3"  name="vehicleno" [disabled]="masterData.asnStatus!='2' || userRoleId!='4'"
                               class="form-control" placeholder="" maxlength="12" [(ngModel)]="masterData.vechicleNo">
                            </div>
                           </div>
                           <div class="col-md-3">        
                            <label class="fS14 mb-1">Kanban Attached By</label>
                            <div>
                              <input autofocus type="text"  tabindex="5"  name="driverName"  [disabled]="masterData.asnId=='0' || userRoleId!='4'"
                              class="form-control" placeholder="" maxlength="25" [(ngModel)]="masterData.driverName">
                            </div>
                            
                           </div>
                           <div class="col-md-3">        
                            <label class="fS14 mb-1">Kanban Tapping By</label>
                            <div>
                              <input autofocus type="text"  tabindex="6"  name="driverMobile" [disabled]="masterData.asnId=='0' || userRoleId!='4'" numbersOnly
                               class="form-control" placeholder="" maxlength="10" [(ngModel)]="masterData.driverMobile">
                            </div>
                           
                           </div>
                           <div class="col-md-3">        
                            <label class="fS14 mb-1">Scaning By</label>
                            <div>
                              <input autofocus type="text"  tabindex="6"  name="driverMobile" [disabled]="masterData.asnId=='0' || userRoleId!='4'" numbersOnly
                               class="form-control" placeholder="" maxlength="10" [(ngModel)]="masterData.driverMobile">
                            </div>
                           
                           </div>
                          
                        </div>
                        <div class="row px-3 mb-2">
                          <div class="card shadow-lg position-relative ofCont">
                            <table class="table">
                                <thead class="sticky-top top-0">
                                  <tr class="trBack">                      
                                      <th class="t-w-150">Part No</th>
                                      <th class="t-w-200">Part Desc</th>
                                      <th class="t-w-75">SPQ</th>
                                      <th class="t-w-75">QTY</th>
                                      <th class="t-w-75">BIN</th>
                                      <th class="t-w-100">Kanban No</th>
                                      <th class="t-w-100">UN LOC</th>
                                      <th class="t-w-100">US LOC</th>
                                      <th class="t-w-75" *ngIf="masterData.pickListId=='0' || enableAmend">Action</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngIf="masterData.pickListId=='0' || enableAdd" class="trBack">
                                      <td class="t-w-150">
                                    <ng-select [items]="customerPartDetails" #customerPart name="customerPart" 
                                      bindLabel="customerpartcode" appendTo="body"
                                      bindValue="partid" 
                                      placeholder="Parts"
                                      [(ngModel)]="masterData.part.partid" (change)="onSelectPart(masterData.part.partid)">
                                    </ng-select> 
                                      </td>
                                      <td class="t-w-200">{{masterData.part.partdescription}}</td>
                                      <td class="t-w-75">{{masterData.part.repackqty}}</td>
                                      <td class="t-w-75">
                                        <input autofocus type="number"  name="spq" #sqp onKeyPress="if(this.value.length>=5) return false;"
                                        class="t-form-control" placeholder=""  [step]="stepvalue" min="0" max="99999" [(ngModel)]="masterData.part.qty" (ngModelChange)="onChangeQuantity($event)" >
                                      </td>
                                      <td class="t-w-75">{{masterData.part.noofbins|number : '1.0-2'}}</td>
                                      <td class="t-w-75">
                                        <input autofocus type="text"  name="kanbanNo" #kanbanNo 
                                        class="t-form-control" placeholder=""  maxlength="20" [(ngModel)]="masterData.part.kanbanNo" >
                                      </td>
                                      <td class="t-w-75">
                                        <input autofocus type="text"  name="unLoc" #unLoc 
                                        class="t-form-control" placeholder=""  maxlength="10" [(ngModel)]="masterData.part.unLoc" >
                                      </td>
                                      <td class="t-w-75">
                                        <input autofocus type="text"  name="usLoc" #usLoc 
                                        class="t-form-control" placeholder=""  maxlength="10" [(ngModel)]="masterData.part.usLoc" >
                                      </td>
                                      <td class="t-w-75">
                                        <button type="button" class="btn btn-primary btn-sm footerbtncss" name="confirm" (click)="updateItems()">Add</button>
                                      </td>
                                    </tr>
                                    <tr *ngFor="let scannedDetail of savedCardDetails;index as i">
                                      <td class="t-w-150">{{ scannedDetail.partNo }}</td>
                                      <td class="t-w-200">{{ scannedDetail.partName }}</td>
                                      <td class="t-w-75">{{ scannedDetail.spq }}</td>
                                      <td class="t-w-75">
                                        <p *ngIf="!enableAmend">{{ scannedDetail.qty }}</p>
                                        <input *ngIf="enableAmend" autofocus type="number"  name="spqAmend_{{i}}" #spqAmend__{{i}} onKeyPress="if(this.value.length>=5) return false;"
                                        class="t-form-control" placeholder=""  [step]="scannedDetail.spq" min="0" max="99999" [(ngModel)]="scannedDetail.qty" (ngModelChange)="onChangeAmendQuantity(i)" >
                                      </td>
                                      <td class="t-w-75">{{ scannedDetail.binQty }}</td>
                                      <td class="t-w-75">{{ scannedDetail.kanbanNo }}</td>
                                      <td class="t-w-75">{{ scannedDetail.unLoadingDoc }}</td>
                                      <td class="t-w-75">{{ scannedDetail.usageLocation }}</td>
                                      <!-- <td class="t-w-75">
                                        <p *ngIf="!enableAmend">{{ scannedDetail.usageLocation }}</p>
                                        <input *ngIf="enableAmend" autofocus type="text"  name="usLocAmend_{{i}}" #usLocAmend_{{i}} [disabled]="shouldDisableButton(i)"
                                        class="t-form-control" placeholder="" maxlength="10" [(ngModel)]="scannedDetail.usageLocation" >
                                      </td> -->
                                      <td class="t-w-75" *ngIf="masterData.pickListId!='0' && enableAmend"><img src="assets/dist/img/delete.png" alt="" class="mb-2 ms-1" (click)="removeScannedValue(i)"></td>
                                      <td class="t-w-75" *ngIf="masterData.pickListId=='0'"><img src="assets/dist/img/delete.png" alt="" class="mb-2 ms-1" (click)="removeScannedValue(i)"></td>
                                    </tr>
                                  </tbody>
                            </table>   
                          </div>
                        </div>
                        <div class="row px-3 mb-2">
                            <div class="mt-2 me-4 d-flex justify-content-end">   
                              <div class="row text-center mt-4">
                              <div class="">
                                  <div class="form-group transback">
                                    <button *ngIf="action!='show' || enableAmend" type="button"   class="btn btn-primary footerbtncss" name="confirm" (click)="updateAsn()">Submit</button>
                                </div>
                              </div>
                              </div>
                            </div> 
                        </div>
                        <div style="display: none;" class="row px-3">
                          <div class="mt-2 me-4 d-flex justify-content-end">   
                            <div class="row text-center mt-4">
                            <div class="">
                                <div class="form-group transback">
                                  <button  type="button"  class="btn btn-secondary footerbtncss mx-2" name="cancel" value="Cancel" (click)="moveParts()" >Next</button>
                              </div>
                            </div>
                            </div>
                          </div> 
                        </div>
                       
                      </form>
                    </div>
                </div>
                <div class="tab-pane fade" [ngClass]="{'show active': showTab==3}" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                  <div class="row px-2">  
                    <div class="p-1">
                      <div class="row px-3 mb-2"> 
                       <div class="row g-0 badge-bg">
                          <div class="col-1 mt-1 left-badge"></div>
                          <div class="ms-3 col-6 mt-2 badge-title">History</div>
                       </div>
                       <div class="row px-3 mb-2">
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Vendor Code</label>
                          <div>
                            <input autofocus type="text" 
                             class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Challan No</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Challan Date</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Invoice No</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Invoice Date</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">Consumable Indicator</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                      </div>
                      <div class="row px-3 mb-2">
                        <div class="col-md-2">        
                         <label class="fS14 mb-1">Schedule No</label>
                         <div>
                           <input autofocus type="text" 
                            class="form-control" placeholder="" maxlength="12">
                         </div>
                        </div>
                        <div class="col-md-2">        
                          <label class="fS14 mb-1">Item Code</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                        <div class="col-md-2">        
                         <label class="fS14 mb-1">Qty Shipped</label>
                         <div>
                           <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                           class="form-control" placeholder="" maxlength="12">
                         </div>
                        </div>
                        <div class="col-md-2">        
                         <label class="fS14 mb-1">PO No</label>
                         <div>
                           <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                           class="form-control" placeholder="" maxlength="12">
                         </div>
                        </div>
                       
                        <div class="col-md-2">        
                         <label class="fS14 mb-1">GST No</label>
                         <div>
                           <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                           class="form-control" placeholder="" maxlength="12">
                         </div>
                        </div>
                        <div class="col-md-2">        
                         <label class="fS14 mb-1">CGST amount per invoice</label>
                         <div>
                           <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                           class="form-control" placeholder="" maxlength="12">
                         </div>
                        </div>
                        <div class="col-md-2">        
                          <label class="fS14 mb-1">SGST amount per invoice</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">IGST amount per invoice</label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                         <div class="col-md-2">        
                          <label class="fS14 mb-1">E-Way Bill Number </label>
                          <div>
                            <input autofocus type="text"  tabindex="8"  name="ewayBillNo"  
                            class="form-control" placeholder="" maxlength="12">
                          </div>
                         </div>
                     </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>    
          </div>
      </div>
      </div>
      <div *ngIf="action=='view'">
      <div class="p-4">
      <report creportid="63"  #report (onEditClcked)="doAction($event)"   [events]="eventsSubject.asObservable()" [groupreport]="0"></report>
    </div>
     </div>
  </div>
</div>
<div *ngIf="showUploadDlg" class="modal" tabindex="-1" role="dialog" style="display: block !important;" id="showUploadDlg">  
  <div class="modal-dialog   modal-dialog-centered" role="document"    > 
    <div class="bgDlg"></div> 
    <div class="modal-content customheight">
       
      <div class="modal-header loginCusto">
        <h5 class="modal-title fontsize16"> 
          E-Nagara Documents
        </h5>
        <button (click)="closeUploadModel()" type="button" class="btn float-end modalclosebtn" data-dismiss="modal"> X  </button>
         
      </div>
      <div class="modal-body"  >
         
        <div class="row">

          <div class="col-md-12">
            <div class="text-left">
              <form  #form="ngForm" autocomplete="off" >
                 <div class="row mt-2">
                     
                  <div class="d-grid gap-2 d-md-flex justify-content-md-end align-items-center">
                    <label class="fS14 mb-1">Upload File</label>
                    <div>
                     <input type="file" name="file" class="file-input"  #fileUpload (change)="fileChangeEvent($event)">
                    </div>    
                  </div>
                  </div>
                </form>

                <div class="mt-2 me-4 d-flex justify-content-end">   
                  <div class="row text-center mt-4">
                   <div class="">
                      <div class="form-group">
                       <button type="button"  class="btn btn-secondary footerbtncss mx-2" name="cancel" value="Cancel" (click)="closeUploadModel()">Clear</button>
                       
                    </div>
                   </div>
                  </div>
                </div> 
                
            </div>
                            
          </div>
        </div>
        
      </div>
       
    </div>  
  </div>
</div> 

<div *ngIf="showUploadStatusDlg" class="modal" tabindex="-2" role="dialog" style="display: block !important;" id="showUploadStatusDlg">  
  <div class="modal-dialog modal-dialog-centered" role="document" > 
    <div class="bgDlg"></div> 
    <div class="modal-content customheight">
       
      <div class="modal-header loginCusto">
        <h5 class="modal-title fontsize16"> 
          Picklist Status
        </h5>
        <button (click)="closeUploadStatusModel()" type="button" class="btn float-end modalclosebtn" data-dismiss="modal"> X  </button>
         
      </div>
      <div class="modal-body"  >
         
        <div class="row">

          <div class="col-md-12">
            <div class="text-left">
              <form  #form="ngForm" autocomplete="off" >
                 <div class="row mt-2">
                  <div class="col-md-12 mb-3" >        
                    <label class="fS14 mb-1">Picked By</label>
                    <div>
                      <ng-select [items]="employeeDetails" #pickedById name="pickedById" 
                        bindLabel="em_name"
                        bindValue="userid" 
                        placeholder="Select Staff"
                        [(ngModel)]="masterData.pickedById" (change)="onChangeProcessId(13)">
                      </ng-select>
                    </div>
                   </div>
                    <div class="col-md-12 mb-3">        
                      <label class="fS14 mb-1">kanban Attached By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #kanbanAttachedById name="kanbanAttachedById"
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.kanbanAttachedById" (change)="onChangeProcessId(15)">
                        </ng-select>
                      </div>
                    </div>
                    <div class="col-md-12 mb-3">        
                      <label class="fS14 mb-1">Staged By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #stagedById name="stagedById" 
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.stagedById" (change)="onChangeProcessId(16)">
                        </ng-select>
                      </div>
                     </div>
                    <!-- <div class="col-md-12" *ngIf="masterData.processStatusId==15">        
                      <label class="fS14 mb-1">kanban Taping By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #employeeId name="employeeId" 
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.stagedById" (change)="onChangeProcessId(17)">
                        </ng-select>
                      </div>
                    </div> -->
                    <!-- <div class="col-md-12" *ngIf="masterData.processStatusId==15">        
                      <label class="fS14 mb-1">Scanning By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #employeeId name="employeeId" 
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.stagedById" (change)="onChangeProcessId(17)">
                        </ng-select>
                      </div>
                    </div>
                    <div class="col-md-12" *ngIf="masterData.processStatusId==17">        
                      <label class="fS14 mb-1">Loading Supervisor By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #employeeId name="employeeId" 
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.stagedById" (change)="onChangeProcessId(19)">
                        </ng-select>
                      </div>
                    </div>
                    <div class="col-md-12" *ngIf="masterData.processStatusId==19">        
                      <label class="fS14 mb-1">Doc Handover By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #employeeId name="employeeId" 
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.stagedById" (change)="onChangeProcessId(10)">
                        </ng-select>
                      </div>
                    </div>
                    <div class="col-md-12" *ngIf="masterData.processStatusId==19">        
                      <label class="fS14 mb-1">Doc Audit By</label>
                      <div>
                        <ng-select [items]="employeeDetails" #employeeId name="employeeId" 
                          bindLabel="em_name"
                          bindValue="userid" 
                          placeholder="Select Staff"
                          [(ngModel)]="masterData.stagedById" (change)="onChangeProcessId(10)">
                        </ng-select>
                      </div>
                    </div> -->
                  </div>
                </form>

                <div class="mt-2 me-4 d-flex justify-content-end">   
                  <div class="row text-center mt-4">
                   <div class="">
                      <div class="form-group">
                       <button type="button"  class="btn btn-secondary footerbtncss mx-2" name="cancel" value="Cancel" (click)="closeUploadStatusModel()">Clear</button>
                       <button type="button"  class="btn btn-primary footerbtncss" name="confirm" (click)="updateProcessStatus()">Submit</button>
                    </div>
                   </div>
                  </div>
                </div> 
                
            </div>
                            
          </div>
        </div>
        
      </div>
       
    </div>  
  </div>
</div> 

<div *ngIf="showUploadSpareDlg" class="modal" tabindex="-1" role="dialog" style="display: block !important;" id="showUploadSpareDlg">  
  <div class="modal-dialog   modal-dialog-centered" role="document"  > 
    <div class="bgDlg"></div> 
    <div class="modal-content customheight">
       
      <div class="modal-header loginCusto">
        <h5 class="modal-title fontsize16"> 
          Spares Documents
        </h5>
        <button (click)="closeUploadSpareModel()" type="button" class="btn float-end modalclosebtn" data-dismiss="modal"> X  </button>
         
      </div>
      <div class="modal-body"  >
         
        <div class="row">

          <div class="col-md-12">
            <div class="text-left">
              <form  #form="ngForm" autocomplete="off" >
                 <div class="row mt-2">
                     
                  <div class="d-grid gap-2 d-md-flex justify-content-md-end align-items-center">
                    <label class="fS14 mb-1">Upload File</label>
                    <div>
                     <input type="file" name="file" class="file-input"  #fileUpload (change)="SparefileChangeEvent($event)">
                    </div>    
                  </div>
                  </div>
                </form>

                <div class="mt-2 me-4 d-flex justify-content-end">   
                  <div class="row text-center mt-4">
                   <div class="">
                      <div class="form-group">
                       <button type="button"  class="btn btn-secondary footerbtncss mx-2" name="cancel" value="Cancel" (click)="closeUploadSpareModel()">Clear</button>
                       
                    </div>
                   </div>
                  </div>
                </div> 
                
            </div>
                            
          </div>
        </div>
        
      </div>
       
    </div>  
  </div>
</div> 

