

<div  class="container">
    <div class="table-wrapper px-0 shadow">
       <div class="table-title title-fixed">
         <div class="row">
           <div class="col-sm-6">
             <div class="table-head ms-2">
               <div class="row">
                 <div *ngIf="action!='view'" class="col-1 cursor" (click)="cancelAdd()">
                   <i class="bi bi-arrow-left"></i>
                 </div>
                 <div *ngIf="action=='view'" class="col-1 cursor">
                 </div>
                 <div class="col-6 p-0">
                   ESOP
                 </div>
               </div>
               
                </div>
           </div>
           <div *ngIf="action=='view'" class="col-sm-6">
             <div class="d-grid gap-2 d-md-flex justify-content-md-end">
               <a class="btn btn-success addcss" (click)="addNew()">
                 <i class="bi bi-plus-square"></i><span>New ESOP</span>
               </a>
               <a><i class="bi bi-three-dots-vertical mt-1"></i></a>
             </div>
           </div>
         </div>
       </div>
       <div class="table-content title-content">
       <div *ngIf="action!='view'">  
       <div class="pt-0">
         <form class="p-3" method="post" autocomplete="off" #frm="ngForm">  
            <div class="row g-0 badge-bg mt-2">
              <div class="col-1 mt-1 left-badge"></div>
             <div class="ms-3 col-6 mt-2 badge-title">ESOP Details</div>
           </div>

          <div class="row mt-3">       
            <div class="col-md-3">        
               <label class="fS14 mb-1">SOP Name <span  class="mandatory-color">*</span></label>
               <div>
                 <input autofocus type="text"  name="sopName" #sopName="ngModel"  required
                  [ngClass]="{'input-box-style2-error': sopName.invalid && (sopName.dirty || sopName.touched)}" 
                  class="form-control" placeholder="" [(ngModel)]="masterData.sopName" maxlength="250">
               </div>
            </div>
                 
            <div class="col-md-3">        
                <label class="fS14 mb-1">SOP Name Local <span  class="mandatory-color">*</span></label>
                <div>
                  <input autofocus type="text"  name="sopNameLocal" #sopNameLocal="ngModel"  required
                   [ngClass]="{'input-box-style2-error': sopNameLocal.invalid && (sopNameLocal.dirty || sopNameLocal.touched)}" 
                   class="form-control" placeholder="" [(ngModel)]="masterData.sopNameLocal" maxlength="250">
                </div>
             </div>
               
               <div class="col-md-3">
                 <div class="fS14 mb-1" >SOP Type <span  class="mandatory-color">*</span></div>      
                 <ng-select [items]="soptypes" #sopTypeid name="sopTypeid"
                     bindLabel="soptypename" 
                     bindValue="soptypeid" 
                     placeholder="Select Type"
                     [(ngModel)]="masterData.sopTypeid">
                 </ng-select>
               </div>

               <div class="col-md-3">
                 <div class="fS14 mb-1" >Warehouse </div>      
                 <ng-select [items]="werehouses" #warehouseId name="warehouseId"
                     bindLabel="warehousename" 
                     bindValue="warehousid" 
                     placeholder="Select Warehouse"
                     [(ngModel)]="masterData.warehouseId">
                 </ng-select>
               </div>
               
               <!-- <div class="col-md-3">
                <div class="fS14 mb-1" >SOP Source Type <span  class="mandatory-color">*</span></div>      
                <ng-select [items]="sopsourcetypes" #sopSourceTypeid name="sopSourceTypeid"
                    bindLabel="sopsourcetype" 
                    bindValue="sopsourcetypeid" 
                    placeholder="Select Source Type"
                    [(ngModel)]="masterData.sopSourceTypeid">
                </ng-select>
              </div> -->
          </div>

          <div class="row mt-3">
             <div class="col-md-12">        
                 <label class="fS14 mb-1">SOP Description <span  class="mandatory-color">*</span></label>
                 <div>
                     <div class="NgxEditor__Wrapper">
                     <ngx-editor-menu [editor]="editorDesc" > </ngx-editor-menu>
                     <ngx-editor  height="100px" minHeight="50px" [editor]="editorDesc" name="sopDesc" #sopDesc="ngModel" 
                     [ngClass]="{'input-box-style2-error': sopDesc.invalid && (sopDesc.dirty || sopDesc.touched)}" maxlength="950"
                     [(ngModel)]="masterData.sopDesc" [disabled]="false" [placeholder]="'Type here...'"></ngx-editor>
                     </div>
                 </div>
              </div>
          </div>
           <div class="row mt-3">
              <div class="col-md-12">        
                  <label class="fS14 mb-1">SOP Desc Local <span  class="mandatory-color">*</span></label>
                  <div>
                      <div class="NgxEditor__Wrapper">
                      <ngx-editor-menu [editor]="editorDescLoc" > </ngx-editor-menu>
                      <ngx-editor  height="100px" minHeight="50px" [editor]="editorDescLoc" name="sopDescLocal" #sopDescLocal="ngModel" 
                      [ngClass]="{'input-box-style2-error': sopDescLocal.invalid && (sopDescLocal.dirty || sopDescLocal.touched)}" maxlength="950"
                      [(ngModel)]="masterData.sopDescLocal" [disabled]="false" [placeholder]="'Type here...'"></ngx-editor>
                      </div>
                  </div>
               </div>
          </div>
          <div class="row mt-3">
    
            <div class="col-md-3">
                <label class="fS14 mb-1">Status <span  class="mandatory-color">*</span></label>
                <select  class="form-control form-select" name="isActive" 
                    #isActive="ngModel"  required [ngClass]="{'input-box-style2-error': isActive.invalid && (isActive.dirty || isActive.touched)}"  
                    [(ngModel)]="masterData.isActive" >
                    <option  value="true">Active</option>
                    <option  value="false">InActive</option>
                </select>
            </div>

            <div class="col-md-3">
               <label class="fS14 mb-1">Thumbnail <span  class="mandatory-color">*</span></label>
                 <div>
                  <input type="file" name="logo" class="file-input" accept="image/*" #fileUpload (change)="fileChangeEvent($event)">
               </div>
            </div>

            <div class="col-md-3">
             <label class="fS14 mb-1">Preview Upload</label>
            <div>
                <img alt="logo" [src]="preview" class="preview profileImg">
            </div>
            </div>
         </div>
      </form>
 
       <div class="mt-4 me-4 d-flex justify-content-end">   
         <div class="row text-center mt-4">
          <div class="">
             <div class="form-group transback">
              <button type="button"  class="btn btn-secondary footerbtncss mx-2" name="cancel" value="Cancel" (click)="cancelAdd()">Clear</button>
              <button type="button"   class="btn btn-primary footerbtncss" name="signin" (click)="updateEsopMaster()">Submit</button>
           </div>
          </div>
         </div>
       </div> 
             </div>
 
       </div>
             <div *ngIf="action=='view'">
               <div class="p-4">
               <report creportid="99" #report (onEditClcked)="doAction($event)"   [events]="eventsSubject.asObservable()" [groupreport]="0"></report>
             </div>
             </div>
       </div>
     </div>
 </div>
 
  
  