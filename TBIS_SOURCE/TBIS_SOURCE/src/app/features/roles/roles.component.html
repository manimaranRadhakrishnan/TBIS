
<div  class="container">
   <div class="table-wrapper px-0 shadow">
      <div class="table-title title-fixed">
        <div class="row">
          <div class="col-sm-6">
            <div class="table-head ms-2">
              <div class="row">
                <div *ngIf="action!='view'" class="col-1 cursor" (click)="cancelAdd()">
                  <i class="bi bi-arrow-left"></i>
                </div>
                <div *ngIf="action=='view'" class="col-1 cursor">
                </div>
                <div class="col-6 p-0">
                  Role
                </div>
              </div>
               </div>
          </div>
          <div *ngIf="action!='add'" class="col-sm-6">
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <a class="btn btn-success addcss" (click)="addNew()">
                <i class="bi bi-plus-square"></i><span>New Role</span>
              </a>
              <a><i class="bi bi-three-dots-vertical mt-1"></i></a>
            </div>
          </div>
        </div>
      </div>
         <div class="table-content title-content">
            <div *ngIf="action!='view'">  
         
         <div class="pt-0">
   
  <form  class="p-3" method="post" autocomplete="off" #frm="ngForm">  
    <div class="row mt-3">       

        <div class="row g-0 badge-bg mt-2">
          <div class="col-1 mt-1 left-badge"></div>
         <div class="ms-3 col-6 mt-2 badge-title">Role Details</div>
        </div>
        <div class="col-md-6">
          <div class="row">  
            <div class="col-md-12 mb-2">        
              <label class="fS14 mb-1"> Role Name
                  <span  class="mandatory-color">*</span>
                 </label>
              <div>
                <input autofocus type="text"  name="roleName" #roleName="ngModel"  required
                 [ngClass]="{'input-box-style2-error': roleName.invalid && (roleName.dirty || roleName.touched)}" 
                 class="form-control" placeholder="" [(ngModel)]="masterData.roleName" maxlength="20">
              </div>
              <div class="col-md-12 mb-2">        
                <label class="fS14 mb-1"> Role Description
                    <span  class="mandatory-color">*</span>
                   </label>
                <div>
                  <input autofocus type="text"  name="roleDescription" #roleDescription="ngModel"  required
                   [ngClass]="{'input-box-style2-error': roleDescription.invalid && (roleDescription.dirty || roleDescription.touched)}" 
                   class="form-control" placeholder="" [(ngModel)]="masterData.roleDescription" maxlength="20">
                </div>
             </div>
             <div class="col-md-12 mb-2">        
              <label class="fS14 mb-1"> Parent Role
                  <span  class="mandatory-color">*</span>
                 </label>
                 <div>
                  <select class="form-select" name="parentRoleId" #parentRoleId aria-label="Default select example" [tabIndex]="2" [autofocus]="true" (change)="getParentRoleMenus(parentRoleId.value)"
                  [(ngModel)]="masterData.parentRoleId">
                  <option  value="1">Regular</option>
                  <option  value="4">Addtional</option>
                  </select>

                </div>
              <div>
                
              </div>
           </div>
           </div>
          </div>       
        </div>

        <div class="col-md-6">
          <div class="row roleArea">  
            <div class="">
              <div class="form-group transback">
               <button  type="button"  class="btn btn-secondary footerbtncss mx-2" name="selectAll"  (click)="checkAll()">Select All</button>
            </div>
            <div>
              <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
                   <button mat-icon-button disabled></button>
                   <mat-checkbox class="checklist-leaf-node"
                                  [checked]="checklistSelection.isSelected(node)"
                                  (change)="todoLeafItemSelectionToggle(node)">{{node.label}}</mat-checkbox>
                </mat-tree-node>
        
                <mat-tree-node *matTreeNodeDef="let node; when: hasNoContent" matTreeNodePadding>
                   <button type="button" mat-icon-button disabled></button>
                </mat-tree-node>
        
                <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
                   <button mat-icon-button matTreeNodeToggle
                            [attr.aria-label]="'toggle ' + node.filename">
                      <mat-icon class="mat-icon-rtl-mirror">
                      {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                      </mat-icon>
                   </button>
                   <mat-checkbox [checked]="descendantsAllSelected(node)"
                                  [indeterminate]="descendantsPartiallySelected(node)"
                                  (change)="todoItemSelectionToggle(node)">{{node.label}}</mat-checkbox>
               
                </mat-tree-node>
                </mat-tree>
            </div>
          </div>       
        </div>
        
       
         
      </div>
    </div>
   </form>
    <div class="mt-4 me-4 d-flex justify-content-end">   
      <div class="row text-center mt-4">
       <div class="">
          <div class="form-group transback">
           <button type="button"  class="btn btn-secondary footerbtncss mx-2" name="cancel" value="Cancel" (click)="cancelAdd()">Clear</button>
           <button type="button"   class="btn btn-primary footerbtncss" name="signin" (click)="updateRole()">Submit</button>
        </div>
       </div>
      </div>
    </div>  
   </div>

</div>
      <div *ngIf="action=='view'">
        <div class="p-4">
         <report creportid="31" #report (onEditClcked)="doAction($event)"   [events]="eventsSubject.asObservable()" [groupreport]="0"></report>
      </div>
      </div>
</div>
</div>
</div>

   